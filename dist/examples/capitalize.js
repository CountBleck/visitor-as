import { decorates } from "../utils.js";
import { VariableDecorator, registerDecorator } from "../decorator.js";
class CapitalizeVisitor extends VariableDecorator {
    visitVariableDeclaration(node) {
        this.visit(node.initializer);
    }
    get decoratorMatcher() {
        return (node) => decorates(node, "capitalize");
    }
    afterParse(parser) {
        // console.log(parser.)
    }
    visitStringLiteralExpression(node) {
        const oldValue = node.value;
        node.value = node.value.toUpperCase();
        this.stdout.write(oldValue + " -> " + node.value + "\n");
    }
    visitTemplateLiteralExpression(node) {
        if (node.parts.length == 1 && node.expressions.length == 0) {
            const oldValue = node.parts[0];
            node.parts[0] = node.parts[0].toUpperCase();
            this.stdout.write(oldValue + " -> " + node.parts[0] + "\n");
        }
    }
}
export default registerDecorator(new CapitalizeVisitor());
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FwaXRhbGl6ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGFtcGxlcy9jYXBpdGFsaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYSxTQUFTLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDbkQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFHdkUsTUFBTSxpQkFBa0IsU0FBUSxpQkFBaUI7SUFDL0Msd0JBQXdCLENBQUMsSUFBeUI7UUFDaEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUksZ0JBQWdCO1FBQ2xCLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELFVBQVUsQ0FBQyxNQUFjO1FBQ3ZCLHVCQUF1QjtJQUN6QixDQUFDO0lBRUQsNEJBQTRCLENBQUMsSUFBNkI7UUFDeEQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCw4QkFBOEIsQ0FBQyxJQUErQjtRQUM1RCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUM7WUFDekQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQzdEO0lBQ0gsQ0FBQztDQUNGO0FBRUQsZUFBZSxpQkFBaUIsQ0FBQyxJQUFJLGlCQUFpQixFQUFFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lTm9kZSwgZGVjb3JhdGVzIH0gZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBWYXJpYWJsZURlY29yYXRvciwgcmVnaXN0ZXJEZWNvcmF0b3IgfSBmcm9tIFwiLi4vZGVjb3JhdG9yLmpzXCI7XG5pbXBvcnQgeyBEZWNvcmF0b3JOb2RlLCBTdHJpbmdMaXRlcmFsRXhwcmVzc2lvbiwgVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbiwgVmFyaWFibGVEZWNsYXJhdGlvbiwgTW9kdWxlLCBQYXJzZXIgfSBmcm9tIFwiYXNzZW1ibHlzY3JpcHQvZGlzdC9hc3NlbWJseXNjcmlwdC5qc1wiO1xuXG5jbGFzcyBDYXBpdGFsaXplVmlzaXRvciBleHRlbmRzIFZhcmlhYmxlRGVjb3JhdG9yIHtcbiAgdmlzaXRWYXJpYWJsZURlY2xhcmF0aW9uKG5vZGU6IFZhcmlhYmxlRGVjbGFyYXRpb24pOiB2b2lkIHtcbiAgICB0aGlzLnZpc2l0KG5vZGUuaW5pdGlhbGl6ZXIpO1xuICB9XG5cbiAgZ2V0IGRlY29yYXRvck1hdGNoZXIoKTogKG5vZGU6IERlY29yYXRvck5vZGUpID0+IGJvb2xlYW4ge1xuICAgIHJldHVybiAobm9kZSkgPT4gZGVjb3JhdGVzKG5vZGUsIFwiY2FwaXRhbGl6ZVwiKTtcbiAgfVxuXG4gIGFmdGVyUGFyc2UocGFyc2VyOiBQYXJzZXIpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhwYXJzZXIuKVxuICB9XG5cbiAgdmlzaXRTdHJpbmdMaXRlcmFsRXhwcmVzc2lvbihub2RlOiBTdHJpbmdMaXRlcmFsRXhwcmVzc2lvbik6IHZvaWQge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gbm9kZS52YWx1ZTsgXG4gICAgbm9kZS52YWx1ZSA9IG5vZGUudmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICB0aGlzLnN0ZG91dC53cml0ZShvbGRWYWx1ZSArIFwiIC0+IFwiICsgbm9kZS52YWx1ZSArIFwiXFxuXCIpO1xuICB9XG4gIFxuICB2aXNpdFRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb24obm9kZTogVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbik6IHZvaWQge1xuICAgIGlmIChub2RlLnBhcnRzLmxlbmd0aCA9PSAxICYmIG5vZGUuZXhwcmVzc2lvbnMubGVuZ3RoID09IDApe1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBub2RlLnBhcnRzWzBdO1xuICAgICAgbm9kZS5wYXJ0c1swXSA9IG5vZGUucGFydHNbMF0udG9VcHBlckNhc2UoKTtcbiAgICAgIHRoaXMuc3Rkb3V0LndyaXRlKG9sZFZhbHVlICsgXCIgLT4gXCIgKyBub2RlLnBhcnRzWzBdICsgXCJcXG5cIik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyRGVjb3JhdG9yKG5ldyBDYXBpdGFsaXplVmlzaXRvcigpKTtcbiJdfQ==